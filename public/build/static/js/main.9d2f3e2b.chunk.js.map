{"version":3,"sources":["image-gallery.js","new-image-gallery.js","upload-photo.js","sign-in.js","index.js"],"names":["imageUrl","withStyles","theme","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","width","height","subheader","props","classes","react_default","a","createElement","className","GridList_default","cellHeight","cols","imageNames","map","tile","GridListTile_default","key","src","alt","title","ImageGallery","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","images","image","name","thumbnail","thumbnailWidth","thumbnailHeight","style","minHeight","border","margin","Gallery_default","enableLightbox","enableImageSelection","React","Component","endpoint","UploadPhoto","handleSelectedFile","event","setState","isButtonDisabled","target","files","type","startsWith","selectedFile","loaded","handleUpload","data","FormData","append","axios","post","onUploadProgress","ProgressEvent","total","then","res","console","log","statusText","handleButtonClick","e","get","response","ReactDOM","render","new_image_gallery","document","getElementById","catch","error","_this2","main","CssBaseline_CssBaseline_default","Paper_Paper_default","Avatar_Avatar_default","avatar","CloudUpload_default","Typography_Typography_default","component","variant","form","FormControl_FormControl_default","required","fullWidth","Input_Input_default","accept","input","id","value","code","onChange","htmlFor","Button_Button_default","color","onClick","submit","disabled","Math","round","defineProperty","marginLeft","spacing","unit","marginRight","breakpoints","up","marginTop","flexDirection","alignItems","padding","concat","secondary","SignIn","body","backgroundImage","CssBaseline_default","Paper_default","Avatar_default","LockOutlined_default","Typography_default","FormControl_default","InputLabel_default","dir","textAlign","Input_default","handleUserInput","Button_default","onChangeComponent","createMuiTheme","primary","light","contrastText","App","signInComponent","sign_in","upload_photo","callBackendAPI","_callee","regenerator_default","wrap","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","express","err","core_styles","src_App"],"mappings":"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","file":"static/js/main.9d2f3e2b.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Gallery from 'react-photo-gallery';\r\n\r\n//const imageUrl = 'https://leumi-hanuka.herokuapp.com/public/files/';\r\nconst imageUrl = 'http://localhost:5000/public/files/';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        width: 600,\r\n        height: 500,\r\n    },\r\n    subheader: {\r\n        width: '100%',\r\n    },\r\n});\r\n\r\nfunction ImageGridList(props) {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <GridList cellHeight={300} className={classes.gridList} cols={3}>\r\n                {props.imageNames.map(tile => (\r\n                    <GridListTile key={tile} cols={tile.cols || 1}>\r\n                        <img src={imageUrl + tile} alt={tile.title || \"title\"} />\r\n                    </GridListTile>\r\n                ))}\r\n            </GridList>\r\n        </div>\r\n    );\r\n}\r\n\r\nImageGridList.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ImageGridList);","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Gallery from 'react-grid-gallery';\r\nimport axios from \"axios\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n//const imageUrl = 'https://leumi-hanuka.herokuapp.com/public/files/';\r\nconst imageUrl = 'http://localhost:5000/public/files/';\r\n\r\nclass ImageGallery extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            images: this.props.images.map(image => {\r\n                let src = (imageUrl + image.name);\r\n                let width = 1;\r\n                let height = 1;\r\n                if (image.width / image.height > 1.5) {\r\n                    width = 2;\r\n                } else if (image.height / image.width > 1.5) {\r\n                    height = 2;\r\n                }\r\n                return {\r\n                    src: src,\r\n                    thumbnail: src,\r\n                    thumbnailWidth: width,\r\n                    thumbnailHeight: height\r\n                }\r\n            })\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                display: \"block\",\r\n                minHeight: \"1px\",\r\n                width: \"600px\",\r\n                border: \"1px solid #ddd\",\r\n                overflow: \"auto\",\r\n                margin: \"auto\"\r\n            }}>\r\n                <Gallery\r\n                    images={this.state.images}\r\n                    enableLightbox={true}\r\n                    enableImageSelection={false}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            src: PropTypes.string.isRequired,\r\n            thumbnail: PropTypes.string.isRequired,\r\n            srcset: PropTypes.array,\r\n            caption: PropTypes.string,\r\n            thumbnailWidth: PropTypes.number.isRequired,\r\n            thumbnailHeight: PropTypes.number.isRequired\r\n        })\r\n    ).isRequired\r\n};\r\n\r\nexport default (ImageGallery);","import React, {Component} from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\r\nimport Input from \"@material-ui/core/Input/Input\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport axios from 'axios';\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ImageGridList from \"./image-gallery\";\r\nimport ImageGallery from \"./new-image-gallery\";\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    }\r\n});\r\n\r\n//const endpoint = 'https://leumi-hanuka.herokuapp.com/upload';\r\nconst endpoint = 'http://localhost:5000/upload';\r\n\r\nclass UploadPhoto extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true,\r\n            selectedFile: null,\r\n            loaded: 0\r\n        }\r\n    }\r\n\r\n    handleSelectedFile = event => {\r\n        this.setState({\r\n            isButtonDisabled: !event.target.files[0].type.startsWith(\"image\"),\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0\r\n        });\r\n    };\r\n\r\n    handleUpload = () => {\r\n        this.setState({\r\n            isButtonDisabled: true\r\n        });\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile, this.state.selectedFile.name);\r\n\r\n        axios\r\n            .post(endpoint, data, {\r\n                onUploadProgress: ProgressEvent => {\r\n                    this.setState({\r\n                        loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n                    })\r\n                },\r\n            })\r\n            .then(res => {\r\n                console.log(res.statusText);\r\n                this.handleButtonClick();\r\n            })\r\n    };\r\n\r\n    handleButtonClick(e) {\r\n        axios.get('/images')\r\n            .then(function (response) {\r\n                ReactDOM.render(\r\n                    <ImageGallery images={response.data.images}/>,\r\n                    document.getElementById('root')\r\n                );\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <CloudUploadIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        העלאת תמונה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <Input\r\n                                accept=\"image/*\"\r\n                                className={classes.input}\r\n                                id=\"raised-button-file\"\r\n                                type=\"file\"\r\n                                value={this.state.code}\r\n                                onChange={(event) => this.handleSelectedFile(event)}\r\n                            />\r\n                            <label htmlFor=\"raised-button-file\">\r\n                                <Button\r\n                                    component=\"span\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                >\r\n                                    בחירת תמונה\r\n                                </Button>\r\n                            </label>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.handleUpload()}\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={this.state.isButtonDisabled}\r\n                        >\r\n                            העלאה\r\n                        </Button>\r\n                        <div> {Math.round(this.state.loaded, 2)} %</div>\r\n                        {/*<Button*/}\r\n                            {/*onClick={() => this.handleButtonClick()}*/}\r\n                            {/*type=\"submit\"*/}\r\n                            {/*fullWidth*/}\r\n                            {/*variant=\"contained\"*/}\r\n                            {/*color=\"primary\"*/}\r\n                            {/*className={classes.submit}*/}\r\n                        {/*>*/}\r\n                            {/*המשך בלי העלאת תמונה*/}\r\n                        {/*</Button>*/}\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nUploadPhoto.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UploadPhoto);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport ReactDOM from \"react-dom\";\r\nimport ImageGallery from './image-gallery.js'\r\nimport UploadPhoto from \"./upload-photo\";\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    }\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.body.style.backgroundImage = 'url(http://localhost:5000/public/background.png)';\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        document.body.style.backgroundColor = null;\r\n    }\r\n\r\n    handleUserInput(e) {\r\n        const value = e.target.value;\r\n        if (value === \"1234\") {\r\n            this.setState({isButtonDisabled: false});\r\n        } else {\r\n            this.setState({isButtonDisabled: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        הכנס קוד כניסה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <InputLabel htmlFor=\"number\" dir={'rtl'} style={{\r\n                                display: 'inline-block',\r\n                                width: '98%', textAlign: 'right'\r\n                            }}>קוד כניסה\r\n                            </InputLabel>\r\n                            <Input value={this.state.code}\r\n                                   onChange={(event) => this.handleUserInput(event)}/>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.props.onChangeComponent()}\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={this.state.isButtonDisabled}\r\n                        >\r\n                            כנס\r\n                        </Button>\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nSignIn.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SignIn from './sign-in.js';\r\nimport ImageGallery from './image-gallery.js'\r\nimport UploadPhoto from './upload-photo'\r\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            // light: will be calculated from palette.primary.main,\r\n            main: '#004BA6',\r\n            // dark: will be calculated from palette.primary.main,\r\n            // contrastText: will be calculated to contrast with palette.primary.main\r\n        },\r\n        secondary: {\r\n            light: '#0066ff',\r\n            main: '#0044ff',\r\n            // dark: will be calculated from palette.secondary.main,\r\n            contrastText: '#ffcc00',\r\n        },\r\n        // error: will use the default color\r\n    },\r\n});\r\n\r\nclass App extends React.Component {\r\n    // uploadPhoto = <UploadPhoto onChangeComponent={() => this.setState({component: <ImageGallery/>})}/>;\r\n    signInComponent = <SignIn onChangeComponent={() => this.setState({component: <UploadPhoto/>})}/>;\r\n\r\n    state = {\r\n        data: null,\r\n        component: this.signInComponent\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.title = \"Leumi Hanukkah\"\r\n        // Call our fetch function below once the component mounts\r\n        this.callBackendAPI()\r\n            .then(res => this.setState({data: res.express}))\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\r\n    callBackendAPI = async () => {\r\n        const response = await fetch('/express_backend');\r\n        const body = await response.json();\r\n\r\n        if (response.status !== 200) {\r\n            throw Error(body.message)\r\n        }\r\n        return body;\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                {this.state.component}\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}