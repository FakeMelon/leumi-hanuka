{"version":3,"sources":["image-gallery.js","new-image-gallery.js","upload-photo.js","sign-in.js","index.js"],"names":["imageUrl","withStyles","theme","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","width","height","subheader","props","classes","react_default","a","createElement","className","GridList_default","cellHeight","cols","imageNames","map","tile","GridListTile_default","key","src","alt","title","ImageGallery","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","images","image","name","thumbnail","thumbnailWidth","thumbnailHeight","concat","style","marginLeft","marginRight","position","top","left","padding","Gallery_default","enableLightbox","enableImageSelection","React","Component","endpoint","UploadPhoto","handleSelectedFile","event","setState","isButtonDisabled","target","files","type","startsWith","selectedFile","loaded","handleUpload","data","FormData","append","axios","post","onUploadProgress","ProgressEvent","total","then","res","console","log","statusText","handleButtonClick","e","get","response","ReactDOM","render","new_image_gallery","document","getElementById","catch","error","_this2","main","CssBaseline_CssBaseline_default","Paper_Paper_default","Avatar_Avatar_default","avatar","CloudUpload_default","Typography_Typography_default","component","variant","form","FormControl_FormControl_default","margin","required","fullWidth","Input_Input_default","accept","input","id","value","code","onChange","htmlFor","Button_Button_default","color","onClick","submit","disabled","Math","round","defineProperty","spacing","unit","breakpoints","up","marginTop","flexDirection","alignItems","secondary","SignIn","body","backgroundImage","CssBaseline_default","Paper_default","Avatar_default","LockOutlined_default","Typography_default","FormControl_default","InputLabel_default","dir","textAlign","Input_default","handleUserInput","Button_default","onChangeComponent","createMuiTheme","primary","light","contrastText","App","signInComponent","sign_in","upload_photo","callBackendAPI","_callee","regenerator_default","wrap","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","express","err","core_styles","src_App"],"mappings":"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","file":"static/js/main.5c165fe0.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Gallery from 'react-photo-gallery';\r\n\r\nconst imageUrl = 'https://leumi-hanuka.herokuapp.com/public/files/';\r\n// const imageUrl = 'http://localhost:5000/public/files/';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        width: 600,\r\n        height: 500,\r\n    },\r\n    subheader: {\r\n        width: '100%',\r\n    },\r\n});\r\n\r\nfunction ImageGridList(props) {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <GridList cellHeight={300} className={classes.gridList} cols={3}>\r\n                {props.imageNames.map(tile => (\r\n                    <GridListTile key={tile} cols={tile.cols || 1}>\r\n                        <img src={imageUrl + tile} alt={tile.title || \"title\"} />\r\n                    </GridListTile>\r\n                ))}\r\n            </GridList>\r\n        </div>\r\n    );\r\n}\r\n\r\nImageGridList.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ImageGridList);","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Gallery from 'react-grid-gallery';\r\nconst imageUrl = 'https://leumi-hanuka.herokuapp.com/public/';\r\n\r\n// const imageUrl = 'http://localhost:5000/public/';\r\n\r\nclass ImageGallery extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            images: this.props.images.map(image => {\r\n                let src = (imageUrl + 'files/' + image.name);\r\n                let width = 1;\r\n                let height = 1;\r\n                if (image.width / image.height > 1.5) {\r\n                    width = 2;\r\n                } else if (image.height / image.width > 1.5) {\r\n                    height = 2;\r\n                }\r\n                return {\r\n                    src: src,\r\n                    thumbnail: src,\r\n                    thumbnailWidth: width,\r\n                    thumbnailHeight: height\r\n                }\r\n            })\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <img src={`${imageUrl}Title.png`} style={{\r\n                    display: 'block',\r\n                    marginLeft: 'auto',\r\n                    marginRight: 'auto',\r\n                    width: '50%'\r\n                }}/>\r\n                <div style={{\r\n                    position: \"relative\"\r\n                }}>\r\n                    <img src={`${imageUrl}Candle.png`} style={{\r\n                        display: 'block',\r\n                        marginLeft: 'auto',\r\n                        marginRight: 'auto',\r\n                        width: '70%'\r\n                    }}/>\r\n                    <div style={{\r\n                        position: \"absolute\",\r\n                        top: \"17%\",\r\n                        left: \"35%\",\r\n                        width: \"28%\",\r\n                        height: \"73%\",\r\n                        padding: \"5px\",\r\n                        overflow: \"auto\",\r\n                        backgroundColor: \"rgba(0, 0, 255, 0)\"\r\n                    }}>\r\n                        <Gallery\r\n                            images={this.state.images}\r\n                            enableLightbox={true}\r\n                            enableImageSelection={false}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            src: PropTypes.string.isRequired,\r\n            thumbnail: PropTypes.string.isRequired,\r\n            srcset: PropTypes.array,\r\n            caption: PropTypes.string,\r\n            thumbnailWidth: PropTypes.number.isRequired,\r\n            thumbnailHeight: PropTypes.number.isRequired\r\n        })\r\n    ).isRequired\r\n};\r\n\r\nexport default (ImageGallery);","import React, {Component} from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\r\nimport Input from \"@material-ui/core/Input/Input\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport axios from 'axios';\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ImageGridList from \"./image-gallery\";\r\nimport ImageGallery from \"./new-image-gallery\";\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    }\r\n});\r\n\r\nconst endpoint = 'https://leumi-hanuka.herokuapp.com/upload';\r\n// const endpoint = 'http://localhost:5000/upload';\r\n\r\nclass UploadPhoto extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true,\r\n            selectedFile: null,\r\n            loaded: 0\r\n        }\r\n    }\r\n\r\n    handleSelectedFile = event => {\r\n        this.setState({\r\n            isButtonDisabled: !event.target.files[0].type.startsWith(\"image\"),\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0\r\n        });\r\n    };\r\n\r\n    handleUpload = () => {\r\n        this.setState({\r\n            isButtonDisabled: true\r\n        });\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile, this.state.selectedFile.name);\r\n\r\n        axios\r\n            .post(endpoint, data, {\r\n                onUploadProgress: ProgressEvent => {\r\n                    this.setState({\r\n                        loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n                    })\r\n                },\r\n            })\r\n            .then(res => {\r\n                console.log(res.statusText);\r\n                this.handleButtonClick();\r\n            })\r\n    };\r\n\r\n    handleButtonClick(e) {\r\n        axios.get('/images')\r\n            .then(function (response) {\r\n                ReactDOM.render(\r\n                    <ImageGallery images={response.data.images}/>,\r\n                    document.getElementById('root')\r\n                );\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <CloudUploadIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        העלאת תמונה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <Input\r\n                                accept=\"image/*\"\r\n                                className={classes.input}\r\n                                id=\"raised-button-file\"\r\n                                type=\"file\"\r\n                                value={this.state.code}\r\n                                onChange={(event) => this.handleSelectedFile(event)}\r\n                            />\r\n                            <label htmlFor=\"raised-button-file\">\r\n                                <Button\r\n                                    component=\"span\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                >\r\n                                    בחירת תמונה\r\n                                </Button>\r\n                            </label>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.handleUpload()}\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={this.state.isButtonDisabled}\r\n                        >\r\n                            העלאה\r\n                        </Button>\r\n                        <div> {Math.round(this.state.loaded, 2)} %</div>\r\n                        {/*<Button*/}\r\n                            {/*onClick={() => this.handleButtonClick()}*/}\r\n                            {/*type=\"submit\"*/}\r\n                            {/*fullWidth*/}\r\n                            {/*variant=\"contained\"*/}\r\n                            {/*color=\"primary\"*/}\r\n                            {/*className={classes.submit}*/}\r\n                        {/*>*/}\r\n                            {/*המשך בלי העלאת תמונה*/}\r\n                        {/*</Button>*/}\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nUploadPhoto.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UploadPhoto);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport ReactDOM from \"react-dom\";\r\nimport ImageGallery from './image-gallery.js'\r\nimport UploadPhoto from \"./upload-photo\";\r\n\r\nconst backgroundUrl = 'https://leumi-hanuka.herokuapp.com/public/background.png';\r\n// const backgroundUrl = 'http://localhost:5000/public/background.png';\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    }\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.body.style.backgroundImage = `url(${backgroundUrl})`;\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        document.body.style.backgroundColor = null;\r\n    }\r\n\r\n    handleUserInput(e) {\r\n        const value = e.target.value;\r\n        if (value === \"1234\") {\r\n            this.setState({isButtonDisabled: false});\r\n        } else {\r\n            this.setState({isButtonDisabled: true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        הכנס קוד כניסה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <InputLabel htmlFor=\"number\" dir={'rtl'} style={{\r\n                                display: 'inline-block',\r\n                                width: '98%', textAlign: 'right'\r\n                            }}>קוד כניסה\r\n                            </InputLabel>\r\n                            <Input value={this.state.code}\r\n                                   onChange={(event) => this.handleUserInput(event)}/>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.props.onChangeComponent()}\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={this.state.isButtonDisabled}\r\n                        >\r\n                            כנס\r\n                        </Button>\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nSignIn.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SignIn from './sign-in.js';\r\nimport ImageGallery from './image-gallery.js'\r\nimport UploadPhoto from './upload-photo'\r\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            // light: will be calculated from palette.primary.main,\r\n            main: '#004BA6',\r\n            // dark: will be calculated from palette.primary.main,\r\n            // contrastText: will be calculated to contrast with palette.primary.main\r\n        },\r\n        secondary: {\r\n            light: '#0066ff',\r\n            main: '#0044ff',\r\n            // dark: will be calculated from palette.secondary.main,\r\n            contrastText: '#ffcc00',\r\n        },\r\n        // error: will use the default color\r\n    },\r\n});\r\n\r\nclass App extends React.Component {\r\n    // uploadPhoto = <UploadPhoto onChangeComponent={() => this.setState({component: <ImageGallery/>})}/>;\r\n    signInComponent = <SignIn onChangeComponent={() => this.setState({component: <UploadPhoto/>})}/>;\r\n\r\n    state = {\r\n        data: null,\r\n        component: this.signInComponent\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.title = \"Leumi Hanukkah\"\r\n        // Call our fetch function below once the component mounts\r\n        this.callBackendAPI()\r\n            .then(res => this.setState({data: res.express}))\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\r\n    callBackendAPI = async () => {\r\n        const response = await fetch('/express_backend');\r\n        const body = await response.json();\r\n\r\n        if (response.status !== 200) {\r\n            throw Error(body.message)\r\n        }\r\n        return body;\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                {this.state.component}\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}