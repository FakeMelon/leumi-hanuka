(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(297)},124:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(19),o=a(21),r=a(20),c=a(22),l=a(0),s=a.n(l),u=a(15),m=a.n(u),d=(a(124),a(38)),p=a(113),g=a.n(p),h=a(63),f=a.n(h),b=a(111),y=a.n(b),v=a(116),k=a.n(v),E=a(118),w=a.n(E),j=a(117),C=a.n(j),O=a(114),x=a.n(O),W=a(112),T=a.n(W),I=a(115),N=a.n(I),S=a(5),B=a.n(S),L=a(105),D=a.n(L),F="https://leumi-hanuka.herokuapp.com/public/",P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={images:a.props.images.map(function(e){var t=F+"files/"+e.name,a=1,n=1;return e.width/e.height>1.5?a=2:e.height/e.width>1.5&&(n=2),{src:t,thumbnail:t,thumbnailWidth:a,thumbnailHeight:n}})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("img",{src:"".concat(F,"Title.png"),style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"50%"}}),s.a.createElement("div",{style:{position:"relative"}},s.a.createElement("img",{src:"".concat(F,"Candle.png"),style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"100%"}}),s.a.createElement("div",{style:{position:"absolute",top:"17%",left:"26%",width:"45%",height:"72%",padding:"5px",overflow:"auto",backgroundColor:"rgba(0, 0, 255, 0)"}},s.a.createElement(D.a,{images:this.state.images,enableLightbox:!0,enableImageSelection:!1}))))}}]),t}(s.a.Component),M=a(57),R=a.n(M),U=a(58),A=a.n(U),H=a(59),q=a.n(H),J=a(110),z=a.n(J),G=a(60),K=a.n(G),Q=a(61),V=a.n(Q),X=a(62),Y=a.n(X),Z=a(39),$=a.n(Z),_=a(29),ee=a.n(_),te=a(28),ae=a(107),ne=a.n(ae),ie=a(109),oe=a.n(ie),re=(a(193),"https://leumi-hanuka.herokuapp.com/public/files/");Object(te.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:600,height:500},subheader:{width:"100%"}}})(function(e){var t=e.classes;return s.a.createElement("div",{className:t.root},s.a.createElement(ne.a,{cellHeight:300,className:t.gridList,cols:3},e.imageNames.map(function(e){return s.a.createElement(oe.a,{key:e,cols:e.cols||1},s.a.createElement("img",{src:re+e,alt:e.title||"title"}))})))});var ce="https://leumi-hanuka.herokuapp.com/upload",le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).handleSelectedFile=function(e){a.setState({isButtonDisabled:!e.target.files[0].type.startsWith("image"),selectedFile:e.target.files[0],loaded:0})},a.handleUpload=function(){a.setState({isButtonDisabled:!0});var e=new FormData;e.append("file",a.state.selectedFile,a.state.selectedFile.name),ee.a.post(ce,e,{onUploadProgress:function(e){a.setState({loaded:e.loaded/e.total*100})}}).then(function(e){console.log(e.statusText),a.handleButtonClick()})},a.state={isButtonDisabled:!0,selectedFile:null,loaded:0},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"handleButtonClick",value:function(e){ee.a.get("/images").then(function(e){m.a.render(s.a.createElement(P,{images:e.data.images}),document.getElementById("root"))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("main",{className:t.main},s.a.createElement(R.a,null),s.a.createElement(A.a,{className:t.paper},s.a.createElement(q.a,{className:t.avatar},s.a.createElement(z.a,null)),s.a.createElement(K.a,{component:"h1",variant:"h5"},"\u05d4\u05e2\u05dc\u05d0\u05ea \u05ea\u05de\u05d5\u05e0\u05d4"),s.a.createElement("form",{className:t.form},s.a.createElement(V.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(Y.a,{accept:"image/*",className:t.input,id:"raised-button-file",type:"file",value:this.state.code,onChange:function(t){return e.handleSelectedFile(t)}}),s.a.createElement("label",{htmlFor:"raised-button-file"},s.a.createElement($.a,{component:"span",fullWidth:!0,variant:"contained",color:"primary"},"\u05d1\u05d7\u05d9\u05e8\u05ea \u05ea\u05de\u05d5\u05e0\u05d4"))),s.a.createElement($.a,{onClick:function(){return e.handleUpload()},fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:this.state.isButtonDisabled},"\u05d4\u05e2\u05dc\u05d0\u05d4"),s.a.createElement("div",null," ",Math.round(this.state.loaded,2)," %"))))}}]),t}(s.a.Component),se=B()(function(e){return{main:Object(d.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},input:{display:"none"}}})(le),ue=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={isButtonDisabled:!0,group:"0",password:"",isPasswordWrong:!1,passwordMessage:"\u05e7\u05d5\u05d3 \u05db\u05e0\u05d9\u05e1\u05d4",code:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){document.body.style.backgroundImage="url(".concat("https://leumi-hanuka.herokuapp.com/public/background.png",")")}},{key:"componentWillUnmount",value:function(){document.body.style.backgroundColor=null}},{key:"handleUserInput",value:function(e){this.setState({code:e.target.value})}},{key:"onSubmitPassword",value:function(){var e=this;ee.a.get("/checkPass/".concat(this.state.code)).then(function(t){t.data.isAllowed?e.props.onChangeComponent():(e.setState({isPasswordWrong:!0,passwordMessage:"\u05e7\u05d5\u05d3 \u05db\u05e0\u05d9\u05e1\u05d4 \u05e9\u05d2\u05d5\u05d9, \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea",code:""}),console.log("wrong password"))}).catch(function(e){console.log("Error with logging in, error: ".concat(e))})}},{key:"goToImages",value:function(e){ee.a.get("/images").then(function(e){m.a.render(s.a.createElement(P,{images:e.data.images}),document.getElementById("root"))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement("main",{className:t.main},s.a.createElement(y.a,null),s.a.createElement(T.a,{className:t.paper},s.a.createElement(g.a,{className:t.avatar},s.a.createElement(x.a,null)),s.a.createElement(N.a,{component:"h1",variant:"h5"},"\u05d4\u05db\u05e0\u05e1 \u05e7\u05d5\u05d3 \u05db\u05e0\u05d9\u05e1\u05d4"),s.a.createElement("form",{className:t.form},s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,error:this.state.isPasswordWrong},s.a.createElement(C.a,{htmlFor:"number",dir:"rtl",style:{display:"inline-block",width:"98%",textAlign:"right"}},this.state.passwordMessage),s.a.createElement(w.a,{value:this.state.code,onChange:this.handleUserInput.bind(this),error:this.state.isPasswordWrong})),s.a.createElement(f.a,{onClick:function(){return e.onSubmitPassword()},fullWidth:!0,variant:"contained",color:"primary"},"\u05db\u05e0\u05e1"),s.a.createElement(f.a,{onClick:function(){return e.goToImages()},fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"10px"}},"\u05e6\u05e4\u05d9\u05d9\u05d4 \u05d1\u05ea\u05de\u05d5\u05e0\u05d5\u05ea \u05dc\u05dc\u05d0 \u05e7\u05d5\u05d3"))))}}]),t}(s.a.Component),me=B()(function(e){return{main:Object(d.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(ue),de=Object(te.createMuiTheme)({palette:{primary:{main:"#004BA6"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}}),pe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).signInComponent=s.a.createElement(me,{onChangeComponent:function(){return a.setState({component:s.a.createElement(se,null)})}}),a.state={data:null,component:a.signInComponent},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="Leumi Hanukkah"}},{key:"render",value:function(){return s.a.createElement(te.MuiThemeProvider,{theme:de},this.state.component)}}]),t}(s.a.Component);m.a.render(s.a.createElement(pe,null),document.getElementById("root"))}},[[119,2,1]]]);
//# sourceMappingURL=main.29eb481f.chunk.js.map