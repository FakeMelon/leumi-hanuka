{"version":3,"sources":["new-image-gallery.js","image-gallery.js","upload-photo.js","sign-in.js","index.js"],"names":["imageUrl","ImageGallery","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","images","map","image","src","name","width","height","thumbnail","thumbnailWidth","thumbnailHeight","react_default","a","createElement","concat","style","display","marginLeft","marginRight","position","top","left","padding","overflow","backgroundColor","Gallery_default","enableLightbox","enableImageSelection","React","Component","withStyles","theme","root","flexWrap","justifyContent","palette","background","paper","gridList","subheader","classes","className","GridList_default","cellHeight","cols","imageNames","tile","GridListTile_default","key","alt","title","endpoint","UploadPhoto","handleSelectedFile","event","setState","isButtonDisabled","target","files","type","startsWith","selectedFile","loaded","handleUpload","data","FormData","append","axios","post","onUploadProgress","ProgressEvent","total","then","res","console","log","statusText","handleButtonClick","e","get","response","ReactDOM","render","new_image_gallery","document","getElementById","catch","error","_this2","main","CssBaseline_CssBaseline_default","Paper_Paper_default","Avatar_Avatar_default","avatar","CloudUpload_default","Typography_Typography_default","component","variant","form","FormControl_FormControl_default","margin","required","fullWidth","Input_Input_default","accept","input","id","value","code","onChange","htmlFor","Button_Button_default","color","onClick","submit","disabled","Math","round","defineProperty","spacing","unit","breakpoints","up","marginTop","flexDirection","alignItems","secondary","SignIn","group","password","isPasswordWrong","passwordMessage","body","backgroundImage","isAllowed","onChangeComponent","_this3","CssBaseline_default","Paper_default","Avatar_default","LockOutlined_default","Typography_default","FormControl_default","InputLabel_default","dir","textAlign","Input_default","handleUserInput","bind","Button_default","onSubmitPassword","goToImages","createMuiTheme","primary","light","contrastText","App","signInComponent","sign_in","upload_photo","core_styles","src_App"],"mappings":"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","file":"static/js/main.29eb481f.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Gallery from 'react-grid-gallery';\r\n\r\nconst imageUrl = 'https://leumi-hanuka.herokuapp.com/public/';\r\n// const imageUrl = 'http://localhost:5000/public/';\r\n\r\nclass ImageGallery extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            images: this.props.images.map(image => {\r\n                let src = (imageUrl + 'files/' + image.name);\r\n                let width = 1;\r\n                let height = 1;\r\n                if (image.width / image.height > 1.5) {\r\n                    width = 2;\r\n                } else if (image.height / image.width > 1.5) {\r\n                    height = 2;\r\n                }\r\n                return {\r\n                    src: src,\r\n                    thumbnail: src,\r\n                    thumbnailWidth: width,\r\n                    thumbnailHeight: height\r\n                }\r\n            })\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <img src={`${imageUrl}Title.png`} style={{\r\n                    display: 'block',\r\n                    marginLeft: 'auto',\r\n                    marginRight: 'auto',\r\n                    width: '50%'\r\n                }}/>\r\n                <div style={{\r\n                    position: \"relative\"\r\n                }}>\r\n                    <img src={`${imageUrl}Candle.png`} style={{\r\n                        display: 'block',\r\n                        marginLeft: 'auto',\r\n                        marginRight: 'auto',\r\n                        width: '100%'\r\n                    }}/>\r\n                    <div style={{\r\n                        position: \"absolute\",\r\n                        top: \"17%\",\r\n                        left: \"26%\",\r\n                        width: \"45%\",\r\n                        height: \"72%\",\r\n                        padding: \"5px\",\r\n                        overflow: \"auto\",\r\n                        backgroundColor: \"rgba(0, 0, 255, 0)\"\r\n                    }}>\r\n                        <Gallery\r\n                            images={this.state.images}\r\n                            enableLightbox={true}\r\n                            enableImageSelection={false}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            src: PropTypes.string.isRequired,\r\n            thumbnail: PropTypes.string.isRequired,\r\n            srcset: PropTypes.array,\r\n            caption: PropTypes.string,\r\n            thumbnailWidth: PropTypes.number.isRequired,\r\n            thumbnailHeight: PropTypes.number.isRequired\r\n        })\r\n    ).isRequired\r\n};\r\n\r\nexport default (ImageGallery);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport Gallery from 'react-photo-gallery';\r\n\r\nconst imageUrl = 'https://leumi-hanuka.herokuapp.com/public/files/';\r\n// const imageUrl = 'http://localhost:5000/public/files/';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n        width: 600,\r\n        height: 500,\r\n    },\r\n    subheader: {\r\n        width: '100%',\r\n    },\r\n});\r\n\r\nfunction ImageGridList(props) {\r\n    const { classes } = props;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <GridList cellHeight={300} className={classes.gridList} cols={3}>\r\n                {props.imageNames.map(tile => (\r\n                    <GridListTile key={tile} cols={tile.cols || 1}>\r\n                        <img src={imageUrl + tile} alt={tile.title || \"title\"} />\r\n                    </GridListTile>\r\n                ))}\r\n            </GridList>\r\n        </div>\r\n    );\r\n}\r\n\r\nImageGridList.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ImageGridList);","import React, {Component} from 'react';\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\r\nimport Input from \"@material-ui/core/Input/Input\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport axios from 'axios';\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ImageGridList from \"./image-gallery\";\r\nimport ImageGallery from \"./new-image-gallery\";\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    }\r\n});\r\n\r\nconst endpoint = 'https://leumi-hanuka.herokuapp.com/upload';\r\n// const endpoint = 'http://localhost:5000/upload';\r\n\r\nclass UploadPhoto extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true,\r\n            selectedFile: null,\r\n            loaded: 0\r\n        }\r\n    }\r\n\r\n    handleSelectedFile = event => {\r\n        this.setState({\r\n            isButtonDisabled: !event.target.files[0].type.startsWith(\"image\"),\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0\r\n        });\r\n    };\r\n\r\n    handleUpload = () => {\r\n        this.setState({\r\n            isButtonDisabled: true\r\n        });\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile, this.state.selectedFile.name);\r\n\r\n        axios\r\n            .post(endpoint, data, {\r\n                onUploadProgress: ProgressEvent => {\r\n                    this.setState({\r\n                        loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n                    })\r\n                },\r\n            })\r\n            .then(res => {\r\n                console.log(res.statusText);\r\n                this.handleButtonClick();\r\n            })\r\n    };\r\n\r\n    handleButtonClick(e) {\r\n        axios.get('/images')\r\n            .then(function (response) {\r\n                ReactDOM.render(\r\n                    <ImageGallery images={response.data.images}/>,\r\n                    document.getElementById('root')\r\n                );\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <CloudUploadIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        העלאת תמונה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth>\r\n                            <Input\r\n                                accept=\"image/*\"\r\n                                className={classes.input}\r\n                                id=\"raised-button-file\"\r\n                                type=\"file\"\r\n                                value={this.state.code}\r\n                                onChange={(event) => this.handleSelectedFile(event)}\r\n                            />\r\n                            <label htmlFor=\"raised-button-file\">\r\n                                <Button\r\n                                    component=\"span\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                >\r\n                                    בחירת תמונה\r\n                                </Button>\r\n                            </label>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.handleUpload()}\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                            disabled={this.state.isButtonDisabled}\r\n                        >\r\n                            העלאה\r\n                        </Button>\r\n                        <div> {Math.round(this.state.loaded, 2)} %</div>\r\n                        {/*<Button*/}\r\n                            {/*onClick={() => this.handleButtonClick()}*/}\r\n                            {/*type=\"submit\"*/}\r\n                            {/*fullWidth*/}\r\n                            {/*variant=\"contained\"*/}\r\n                            {/*color=\"primary\"*/}\r\n                            {/*className={classes.submit}*/}\r\n                        {/*>*/}\r\n                            {/*המשך בלי העלאת תמונה*/}\r\n                        {/*</Button>*/}\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nUploadPhoto.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UploadPhoto);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport ReactDOM from \"react-dom\";\r\nimport ImageGallery from './new-image-gallery.js'\r\nimport UploadPhoto from \"./upload-photo\";\r\nimport axios from \"axios\";\r\n\r\nconst backgroundUrl = 'https://leumi-hanuka.herokuapp.com/public/background.png';\r\n// const backgroundUrl = 'http://localhost:5000/public/background.png';\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    }\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isButtonDisabled: true,\r\n            group: '0',\r\n            password: '',\r\n            isPasswordWrong: false,\r\n            passwordMessage: 'קוד כניסה',\r\n            code: ''\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.body.style.backgroundImage = `url(${backgroundUrl})`;\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        document.body.style.backgroundColor = null;\r\n    }\r\n\r\n    handleUserInput(event) {\r\n        this.setState({\r\n            code: event.target.value\r\n        })\r\n    }\r\n\r\n    onSubmitPassword() {\r\n        axios.get(`/checkPass/${this.state.code}`)\r\n            .then((response) => {\r\n                if (response.data.isAllowed) {\r\n                    this.props.onChangeComponent();\r\n                } else {\r\n                    this.setState({isPasswordWrong: true, passwordMessage: 'קוד כניסה שגוי, נסה שנית', code: ''});\r\n                    console.log(\"wrong password\");\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(`Error with logging in, error: ${error}`);\r\n            });\r\n    }\r\n\r\n    goToImages(e) {\r\n        axios.get('/images')\r\n            .then(function (response) {\r\n                ReactDOM.render(\r\n                    <ImageGallery images={response.data.images}/>,\r\n                    document.getElementById('root')\r\n                );\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        return (\r\n            <main className={classes.main}>\r\n                <CssBaseline/>\r\n                <Paper className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockIcon/>\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        הכנס קוד כניסה\r\n                    </Typography>\r\n                    <form className={classes.form}>\r\n                        <FormControl margin=\"normal\" required fullWidth error={this.state.isPasswordWrong}>\r\n                            <InputLabel htmlFor=\"number\" dir={'rtl'} style={{\r\n                                display: 'inline-block',\r\n                                width: '98%', textAlign: 'right'\r\n                            }}>{this.state.passwordMessage}\r\n                            </InputLabel>\r\n                            <Input value={this.state.code}\r\n                                   onChange={this.handleUserInput.bind(this)}\r\n                                   error={this.state.isPasswordWrong}/>\r\n                        </FormControl>\r\n                        <Button\r\n                            onClick={() => this.onSubmitPassword()}\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                        >\r\n                            כנס\r\n                        </Button>\r\n                        <Button\r\n                            onClick={() => this.goToImages()}\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            style={{marginTop: '10px'}}\r\n                        >\r\n                            צפייה בתמונות ללא קוד\r\n                        </Button>\r\n                    </form>\r\n                </Paper>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nSignIn.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SignIn);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SignIn from './sign-in.js';\r\nimport ImageGallery from './image-gallery.js'\r\nimport UploadPhoto from './upload-photo'\r\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            // light: will be calculated from palette.primary.main,\r\n            main: '#004BA6',\r\n            // dark: will be calculated from palette.primary.main,\r\n            // contrastText: will be calculated to contrast with palette.primary.main\r\n        },\r\n        secondary: {\r\n            light: '#0066ff',\r\n            main: '#0044ff',\r\n            // dark: will be calculated from palette.secondary.main,\r\n            contrastText: '#ffcc00',\r\n        },\r\n        // error: will use the default color\r\n    },\r\n});\r\n\r\nclass App extends React.Component {\r\n    // uploadPhoto = <UploadPhoto onChangeComponent={() => this.setState({component: <ImageGallery/>})}/>;\r\n    signInComponent = <SignIn onChangeComponent={() => this.setState({component: <UploadPhoto/>})}/>;\r\n\r\n    state = {\r\n        data: null,\r\n        component: this.signInComponent\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.title = \"Leumi Hanukkah\";\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                {this.state.component}\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}